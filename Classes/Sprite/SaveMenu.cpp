#include "SaveMenu.h"#include "SlotMenu.h"#include "SoundManager.h"const int MENU_SLOT_MARGIN = 20;bool SaveMenu::init() {    if ( ! Layer::init() ) {        return false;    }        //加载图片    Sprite *background = Sprite::createWithSpriteFrameName("mainmenu_saveslot_bg.png");//    this->setAnchorPoint(Vec2::ANCHOR_MIDDLE);        auto slotMenu1 = SlotMenu::createMenu(1);    slotMenu1->setPosition(Point(background->getContentSize().width / 2                                 - slotMenu1->getSlotMenuSize().width - MENU_SLOT_MARGIN,                                 background->getContentSize().height / 2));    background->addChild(slotMenu1);        auto slotMenu2 = SlotMenu::createMenu(2);    slotMenu2->setPosition(Point(background->getContentSize().width / 2,                                 background->getContentSize().height / 2));    background->addChild(slotMenu2);        auto slotMenu3 = SlotMenu::createMenu(3);    slotMenu3->setPosition(Point(background->getContentSize().width / 2                                 + slotMenu1->getSlotMenuSize().width + MENU_SLOT_MARGIN,                                 background->getContentSize().height / 2));    background->addChild(slotMenu3);        this->addChild(background);        //关闭按键类型为MenuItemSprite    auto normalSprite = Sprite::createWithSpriteFrameName("mainmenu_saveslot_close_0001.png");    auto selectSprite = Sprite::createWithSpriteFrameName("mainmenu_saveslot_close_0002.png");    MenuItemSprite *menuSaveCloseButtonItem = MenuItemSprite::create(normalSprite,                                                                     selectSprite,                                                                     CC_CALLBACK_1(SaveMenu::onCloseButton, this));    menuSaveCloseButtonItem->setPosition(Point(background->getContentSize().width / 2,                                               40                                               ));        auto menu = Menu::create(menuSaveCloseButtonItem, NULL);    menu->setPosition(Vec2::ZERO);    background->addChild(menu, 0);        return true;}void SaveMenu::onCloseButton(Ref* pSender) {//    log("save menu close!");    SoundManager::playClickEffect();    this->setSaveMenuInVisible();        this->_delegate->onStartOperate();}void SaveMenu::setSaveMenuInVisible() {    //移出屏幕外    Size visiableSize = Director::getInstance()->getVisibleSize();    this->runAction(MoveTo::create(0.3f, Point(visiableSize.width / 2, - visiableSize.height / 2)));}void SaveMenu::setSaveMenuVisible() {    //移到屏幕内    this->runAction(MoveTo::create(0.3f, _moveToPoint));}